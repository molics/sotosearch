<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>SotoSearch - GitHub Edition</title>
	 <link rel="icon" href="sotosearch logo.png" type="image/png">
    <style>
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .logo { font-size: 3.5rem; font-weight: 900; color: #1a73e8; margin: 40px 0; }
        .logo span { color: #ea4335; }
        .search-container { width: 100%; max-width: 600px; margin-bottom: 30px; }
        input { width: 100%; padding: 15px 25px; border-radius: 30px; border: 1px solid #dfe1e5; outline: none; box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-size: 1rem; }
        #resultados { width: 100%; max-width: 650px; }
        .card { padding: 15px; border-bottom: 1px solid #eee; transition: 0.2s; }
        .card:hover { background: #f8f9fa; }
        .card a { color: #1a0dab; font-size: 1.2rem; text-decoration: none; font-weight: bold; }
        .card p { color: #4d5156; font-size: 0.9rem; margin: 5px 0; }
        .relevancia { font-size: 10px; color: #70757a; background: #f1f3f4; padding: 2px 6px; border-radius: 5px; float: right; }
    </style>
</head>
<body>

    <div class="logo">Soto<span>Search</span></div>

    <div class="search-container">
        <input type="text" id="buscador" placeholder="Escribe para buscar (ej: pato, soto)...">
    </div>

    <div id="resultados"></div>

    <script>
        const URL_DATOS = "https://raw.githubusercontent.com/molics/sotosearch/refs/heads/main/pages.json";

        const input = document.getElementById('buscador');
        const caja = document.getElementById('resultados');

        input.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                const query = input.value.toLowerCase().trim();
                if (!query) return;

                caja.innerHTML = "Cargando datos desde GitHub...";

                try {
                    const respuesta = await fetch(URL_DATOS);
                    const baseDeDatos = await respuesta.json();

                    const filtrados = baseDeDatos.map(item => {
                        const texto = (item.titulo + " " + item.sub + " " + item.desc).toLowerCase();
                        const puntos = texto.split(query).length - 1;
                        return { ...item, score: puntos };
                    })
                    .filter(i => i.score > 0)
                    .sort((a, b) => b.score - a.score);

                    caja.innerHTML = filtrados.length ? "" : "No se encontraron resultados.";
                    filtrados.forEach(item => {
                        caja.innerHTML += `
                            <div class="card">
                                <span class="relevancia">${item.score} puntos</span>
                                <a href="${item.link}" target="_blank">${item.titulo}</a>
                                <p>${item.desc}</p>
                            </div>
                        `;
                    });

                } catch (error) {
                    caja.innerHTML = "Error: No se pudo conectar con el archivo de datos. Revisa las comas en tu JSON.";
                }
            }
        });
    </script>
	
	<div style="margin-top: 50px; text-align: center; background: #f8f9fa; padding: 25px; border-radius: 15px; border: 1px solid #ddd; max-width: 600px;">
		<h3 style="color: #333;">üì¢ ¬øQuieres aparecer en SotoSearch?</h3>
		<p style="color: #666; font-size: 0.9rem;">Dale al link de abajo para abrir Gmail en una pesta√±a nueva:</p>
		
		<!-- LINK CORREGIDO QUE S√ç FUNCIONA -->
		<a href="https://mail.google.com:" 
			target="_blank" 
			style="display: inline-block; background: #ea4335; color: white; text-decoration: none; padding: 15px 30px; border-radius: 30px; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
			‚úâÔ∏è Abrir Gmail Web
		</a>

		<p style="color: #666; font-size: 0.9rem; margin-top: 20px;">
            <strong>Estructura del correo:</strong><br>
			Titulo: El Blog de Cocina <br>
			sub: Recetas f√°ciles <br>
			Desc: Un sitio web con muchas recetas... <br>
			Link: https://cocina.com <br> <br>
			<strong>Enviar a:</strong> jeronimosotom@gmail.com
		</p>
	</div>
</body>
</html>

